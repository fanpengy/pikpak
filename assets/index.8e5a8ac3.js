var _e=Object.defineProperty;var q=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var ee=(t,e,o)=>e in t?_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,V=(t,e)=>{for(var o in e||(e={}))ke.call(e,o)&&ee(t,o,e[o]);if(q)for(var o of q(e))ye.call(e,o)&&ee(t,o,e[o]);return t};import{d as j,u as we,r as E,o as te,a as oe,b as A,c as ae,w as c,e as n,f as r,N as Ee,g as Se,h as De,z as Fe,i as Ae,j as Ie,C as f,k as C,l as xe,m as Ne,n as Oe,p as be,q as Be,s as L,t as Le,v as $e,x as Ce,y as O,A as M,B as Pe,D as P,R as Te,E as ze,F as T,G as I,H as se,I as Ve,J as je,L as Me,K as re,M as Je,O as Re,P as Ue,Q as He,S as We,T as Ye,U as Ge,V as Ke,W as ie,X as Ze,Y as Xe,Z as Qe,_ as qe,$ as et,a0 as tt,a1 as ot,a2 as at,a3 as st,a4 as rt,a5 as it}from"./vendor.50a49adb.js";const nt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}};nt();const lt=j({setup(t){return window.$message=we(),(e,o)=>null}}),ut=["https://api-pikpak.tjsky.cf","https://api-pikpak.tjsky-1.cf","https://pan.yooyi.tk","https://pk.pikpakz.top","https://cc123.cf","https://cf-api.xswd.cf","https://f.nxcloud.uk","https://wkr.btstream.net","https://dns.firmant.me","https://p.emobiz.cn","https://pikpak.yang-s.online"],ct=j({setup(t){const e=E({common:{primaryColor:"#306eff",hoverColor:"#306eff",primaryColorHover:"#306eff",heightMedium:"42px"},Layout:{siderColor:"#f5f5f6"},Breadcrumb:{fontSize:"16px"},Dropdown:{optionTextColorHover:"#fff"},InternalSelectMenu:{optionTextColorActive:"#fff"},Upload:{itemColorHover:"#F3F3F5FF",itemTextColorSuccess:"#18A058FF"}});return te(()=>{localStorage.getItem("isSettingProxy")||localStorage.setItem("proxy",JSON.stringify(ut))}),(o,s)=>{const a=oe("router-view");return A(),ae(r(Ie),{locale:r(Fe),"date-locale":r(Ae),"theme-overrides":e.value},{default:c(()=>[n(r(De),null,{default:c(()=>[n(r(Ee),null,{default:c(()=>[n(r(Se),null,{default:c(()=>[n(lt),n(a)]),_:1})]),_:1})]),_:1})]),_:1},8,["locale","date-locale","theme-overrides"])}}}),pt="modulepreload",ne={},dt="/pikpak/",h=function(e,o){return!o||o.length===0?e():Promise.all(o.map(s=>{if(s=`${dt}${s}`,s in ne)return;ne[s]=!0;const a=s.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${i}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":pt,a||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),a)return new Promise((g,m)=>{l.addEventListener("load",g),l.addEventListener("error",m)})})).then(()=>e())};var mt="/pikpak/assets/logo1.08eb9157.png";const le={query:()=>J.get("https://encryptDzkVM9c5Up6eon7jLGIySoVv0180s2Y/cvpxfPZ5Dfs=decrypt/account/get"),queryAll:()=>J.get("https://encryptDzkVM9c5Up6eon7jLGIySoVv0180s2Y/cvpxfPZ5Dfs=decrypt/account/all"),use:t=>J.post("https://encryptDzkVM9c5Up6eon7jLGIySoVv0180s2Y/cvpxfPZ5Dfs=decrypt/account/use",{id:t})};var z={encrypt(t,e){if(!e)return t;var o=f.enc.Utf8.parse(e),s=f.enc.Utf8.parse(t),a=f.AES.encrypt(s,o,{mode:f.mode.OFB,padding:f.pad.Pkcs7,iv:f.enc.Utf8.parse("pikpak"),blockSize:8});return a.toString()},decrypt(t,e){if(!e)return t;var o=f.enc.Utf8.parse(e),s=f.AES.decrypt(t,o,{mode:f.mode.OFB,padding:f.pad.Pkcs7,iv:f.enc.Utf8.parse("pikpak"),blockSize:8});return f.enc.Utf8.stringify(s).toString()}};const v=C.create({});v.interceptors.request.use(t=>{var o;const e=JSON.parse(window.localStorage.getItem("pikpakLogin")||"{}");if(t.headers=t.headers||{},e.access_token&&(t.headers.Authorization=`${e.token_type||"Bearer"} ${e.access_token}`),((o=t.url)==null?void 0:o.indexOf("https://",4))===-1){const s=JSON.parse(window.localStorage.getItem("proxy")||"[]");if(s.length>0){const a=Math.floor(Math.random()*s.length);t.url=s[a]+"/"+t.url}}return t});let y=!1;v.interceptors.response.use(t=>t,async t=>{var s,a,i,l,g;const{response:e,config:o}=t;if(e.status)switch(e.status){case 401:console.log(1);const m=window.localStorage.getItem("pikpakLoginData"),_=m?JSON.parse(m):{};return _.username&&_.password&&!y?(console.log("wait",o.url),y=!0,v.post("https://user.mypikpak.com/v1/auth/signin",V({captcha_token:"",client_id:"YNxT9w7GMdWvEOKa",client_secret:"dbw2OtmVEeuUvIptb1Coyg"},_)).then(d=>(d.data&&d.data.access_token&&window.localStorage.setItem("pikpakLogin",JSON.stringify(d.data)),y=!1,v(o))).catch(()=>(b.push("/login"),!1))):_.username&&_.password&&y?new Promise((d,x)=>{const S=setInterval(()=>{y||(clearInterval(S),d(v(o)))},100)}):(b.push("/login?redirect="+b.currentRoute.value.fullPath),Promise.reject(t));case 403:if(((s=e==null?void 0:e.data)==null?void 0:s.error)==="task_daily_create_limit"){const d=JSON.parse(window.localStorage.getItem("pikpakLogin")||"{}"),x=JSON.parse(localStorage.getItem("pikpakOptimize")||"{}");if(x.accountAutomatic){const S=d.id?d.id:-1;let k={};if(x.accountLocal?(S>-1&&ht(S),k=vt()):S>-1?await ft(S)===0?window.$message.error("\u5904\u7406\u8D26\u53F7\u5931\u8D25"):k=await pe():k=await pe(),k.id&&k.id>0){if(y)return new Promise((D,F)=>{const B=setInterval(()=>{y||(clearInterval(B),b.push("/list"))},100)});{const D=z.decrypt(k.email,x.key),F=z.decrypt(k.password,x.key),B={username:D,password:F};return console.debug(B),y=!0,v.post("https://user.mypikpak.com/v1/auth/signin",V({captcha_token:"",client_id:"YNxT9w7GMdWvEOKa",client_secret:"dbw2OtmVEeuUvIptb1Coyg"},B)).then(N=>{N.data&&N.data.access_token&&(N.data.id=k.id,window.localStorage.setItem("pikpakLogin",JSON.stringify(N.data))),y=!1,window.$message.success("\u767B\u5F55\u6210\u529F"),b.push("/")}).catch(()=>{y=!1,window.$message.error("\u81EA\u52A8\u767B\u5F55\u5931\u8D25")})}}else window.$message.error((((a=e==null?void 0:e.data)==null?void 0:a.error_description)||"\u51FA\u9519\u4E86")+" \u5E76\u4E14\u672A\u83B7\u53D6\u5230\u53EF\u7528\u8D26\u53F7")}else window.$message.error(((i=e==null?void 0:e.data)==null?void 0:i.error_description)||"\u51FA\u9519\u4E86")}else window.$message.error(((l=e==null?void 0:e.data)==null?void 0:l.error_description)||"\u51FA\u9519\u4E86");break;default:window.$message.error(((g=e==null?void 0:e.data)==null?void 0:g.error_description)||"\u51FA\u9519\u4E86");break}return console.log(o.url,111),Promise.reject(t)});const gt=C.create({});gt.interceptors.request.use(t=>{t.headers={Authorization:"Bearer secret_FErDcv3kgsFNLiWUDOWYdJhNqOIKj55eteBg3vIoiLt","Notion-Version":"2021-08-16","Content-Type":"application/json"};const e=JSON.parse(window.localStorage.getItem("proxy")||"[]");if(e.length>0){const o=Math.floor(Math.random()*e.length);t.url=e[o]+"/"+t.url}return t});const ue=C.create({});ue.interceptors.request.use(t=>{var g;var e=t.url;const o=JSON.parse(localStorage.getItem("pikpakOptimize")||"{}");if(o.accountAutomatic&&!o.accountLocal)if(e&&!e.startsWith("https://localhost:3000")){var s=e.indexOf("encrypt")+7,a=e.indexOf("decrypt"),i=e.substring(s,a),l=z.decrypt(i,o.key);t.url="https://"+l+e.substring(a+7);const m=JSON.parse(window.localStorage.getItem("proxy")||"[]");if(m.length>0){const _=Math.floor(Math.random()*m.length);t.url=m[_]+"/"+t.url}}else t.url=(g=t.url)==null?void 0:g.replace("localhost",o.accountHost);return t});const ce=C.create({});ce.interceptors.request.use(t=>{var g;var e=t.url;const o=JSON.parse(localStorage.getItem("pikpakOptimize")||"{}");if(e&&!e.startsWith("https://localhost:8081")){var s=e.indexOf("encrypt")+7,a=e.indexOf("decrypt"),i=e.substring(s,a),l=z.decrypt(i,o.key);t.url="https://"+l+e.substring(a+7)}else o.aria2Host&&(t.url=(g=t.url)==null?void 0:g.replace("localhost",o.aria2Host));return t});const ft=async t=>{let e=JSON.parse(window.localStorage.getItem("pikpakAccounts")||"{}"),o=t,s=new Date;if(e.stamp>s.getTime())e.id>t&&(o=e.id);else{s.setHours(0,0,0,0);let a=s.getTime()+864e5;e.stamp=a}return await le.use(o).then(a=>(e.id=o,window.localStorage.setItem("pikpakAccounts",JSON.stringify(e)),o)).catch(a=>(console.log(a),0))},pe=async()=>await le.query().then(t=>t.data.length<=0?(window.$message.error("\u6CA1\u6709\u53EF\u7528\u8D26\u53F7"),{}):t.data[0]).catch(t=>(console.log(t.response),window.$message.error("\u67E5\u8BE2\u8D26\u53F7\u5931\u8D25"),{})),ht=t=>{let e=JSON.parse(window.localStorage.getItem("pikpakAccounts")||"{}"),o=t,s=new Date;if(e.stamp>s.getTime())e.id>t&&(o=e.id);else{s.setHours(0,0,0,0);let a=s.getTime()+864e5;e.stamp=a}e.id=o,window.localStorage.setItem("pikpakAccounts",JSON.stringify(e))},vt=()=>{let t={},e=[],o=JSON.parse(window.localStorage.getItem("pikpakAccounts")||"{}");if(!o.stamp)return t;let s=new Date;return o.stamp>s.getTime()?e=o.accounts.sort((a,i)=>a.id-i.id).filter(a=>a.id>o.id):e=o.accounts.sort((a,i)=>a.id-i.id).filter(a=>a.id>0),e.length>0?t=e[0]:window.$message.error("\u6CA1\u6709\u53EF\u7528\u8D26\u53F7"),t},J=ue,Vt=ce,de=function(t){if(isNaN(t))return"";let e=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(t)/Math.log(2));o<1&&(o=0);let s=Math.floor(o/10);return t=t/Math.pow(2,10*s),t.toString().length>t.toFixed(2).toString().length&&(t=parseFloat(t.toFixed(2))),t+" "+e[s]};const _t=I("a",{href:"https://mypikpak.com/",target:"_blank",class:"logo-box"},[I("img",{src:"https://mypikpak.com/apple-touch-icon.png",class:"logo-box__icon",alt:""}),I("div",{class:"logo-box__text"},"PikPak")],-1),kt={key:0,class:"content-bottom"},yt=O("\u4F1A\u5458\u7801"),wt=O(),Et={style:{"margin-bottom":"0"}},St=I("a",{style:{color:"#306eff"},target:"_blank",href:"https://www.tjsky.net/?p=220#i-21"},"\u6587\u4EF6\u5217\u8868\u5237\u4E0D\u51FA\u6765\uFF1F",-1),Dt=O(" \u3010\u8BF7\u4F9D\u6B21\u70B9\u9009\uFF1A\u8BBE\u7F6E-\u4EE3\u7406\u8BBE\u7F6E-\u6062\u590D\u9ED8\u8BA4-\u4FDD\u5B58\u8BBE\u7F6E \u540E\u518D\u5237\u65B0\u8BD5\u8BD5\u3011 "),Ft={class:"bottom-user-info"},At={key:0,src:mt,class:"user-info-avatar"},It={key:1,src:"https://www.mypikpak.com/logo.png",class:"user-info-avatar"},xt={class:"user-info-name"},Nt={key:0},Ot={class:"action"},bt=O(" \u9000\u51FA\u767B\u5F55 "),Bt=O("\u6DFB\u52A0"),Lt=j({setup(t){const e=E(!1),o=u=>()=>ie(P,null,{default:()=>ie(u)}),s=xe(),a=Ne(),i=E([{label:"\u6587\u4EF6",key:"list",icon:o(tt)},{label:"\u89C6\u9891",key:"video",icon:o(Ze)},{label:"\u56FE\u7247",key:"image",icon:o(Xe)},{label:"\u56DE\u6536\u7AD9",key:"trash",icon:o(Qe)},{label:"\u9080\u8BF7",key:"invited",icon:o(qe)},{label:"\u8BBE\u7F6E",key:"setting",icon:o(et)}]),l=E(),g=()=>{v.get("https://user.mypikpak.com/v1/user/me").then(u=>{window.localStorage.setItem("pikpakUser",JSON.stringify(u.data)),l.value=u.data}).catch(u=>{console.log(u)})},m=E(),_=()=>{v.get("https://api-drive.mypikpak.com/drive/v1/about").then(u=>{m.value=u.data}).catch(u=>{console.log(u)})},d=E(),x=()=>{v.get("https://api-drive.mypikpak.com/drive/v1/privilege/vip").then(u=>{var p;d.value=(p=u.data)==null?void 0:p.data})},S=(u,p)=>{console.log(p),s.push("/"+p.key)};te(()=>{g(),_(),x()});const k=()=>{g(),_()},D=E(),F=E(!1),B=()=>{v.post("https://api-drive.mypikpak.com/vip/v1/order/activation-code",{activation_code:D.value,data:{}}).then(u=>{window.$message.success("\u5151\u6362\u6210\u529F"),_()}).catch(u=>{console.log(u)}).finally(()=>{F.value=!1})},N=E(!1),me=u=>{N.value=u<800,e.value||(e.value=u<800)};Oe(a,()=>{N.value&&(e.value=!0)});const ge=be(),fe=()=>{ge.warning({title:"\u8B66\u544A",content:"\u786E\u5B9A\u9000\u51FA\uFF1F",positiveText:"\u786E\u5B9A",negativeText:"\u4E0D\u786E\u5B9A",onPositiveClick:()=>{v.post("https://user.mypikpak.com/v1/auth/revoke",{}).then(u=>{window.localStorage.removeItem("pikpakLogin"),window.localStorage.removeItem("pikpakLoginData"),window.$message.success("\u9000\u51FA\u6210\u529F"),s.push("/login")}).catch(u=>{console.log(u)})}})};return(u,p)=>{const he=oe("router-view"),ve=Be("resize");return A(),L(Ke,null,[Le(n(r(re),{"has-sider":"",onResize:me},{default:c(()=>[n(r($e),{"content-style":{display:"flex",flexDirection:"column"},"collapse-mode":"width","collapsed-width":0,width:240,"show-trigger":"bar",collapsed:e.value,onCollapse:p[1]||(p[1]=w=>e.value=!0),onExpand:p[2]||(p[2]=w=>e.value=!1),bordered:""},{default:c(()=>{var w,R,U,H,W,Y,G,K,Z,X,Q;return[_t,n(r(Ce),{options:i.value,value:String(r(a).name),"onUpdate:value":S},null,8,["options","value"]),e.value?T("",!0):(A(),L("div",kt,[O(M(r(de)((w=m.value)==null?void 0:w.quota.usage))+" / "+M(r(de)((R=m.value)==null?void 0:R.quota.limit))+" ",1),n(r(Pe),{type:"primary",onClick:p[0]||(p[0]=Pt=>F.value=!0)},{default:c(()=>[yt]),_:1}),wt,n(r(P),{onClick:k},{default:c(()=>[n(r(Te))]),_:1}),((U=m.value)==null?void 0:U.quota)?(A(),ae(r(ze),{key:0,type:"line",percentage:Number((((H=m.value)==null?void 0:H.quota.usage)/((W=m.value)==null?void 0:W.quota.limit)*100).toFixed(2)),"indicator-placement":"inside",height:14,color:((Y=d.value)==null?void 0:Y.status)==="ok"?"#d1ae6a":void 0,processing:""},null,8,["percentage","color"])):T("",!0),I("p",Et,[n(r(se),{placement:"right"},{trigger:c(()=>[St]),default:c(()=>[Dt]),_:1})])])),e.value?T("",!0):(A(),L("div",{key:1,class:Ve(["sider-bottom",{vip:((G=d.value)==null?void 0:G.status)==="ok"}])},[I("div",Ft,[((K=d.value)==null?void 0:K.status)==="ok"?(A(),L("img",At)):(A(),L("img",It)),I("div",xt,[O(M((Z=l.value)==null?void 0:Z.name)+" ",1),((X=d.value)==null?void 0:X.status)==="ok"&&((Q=d.value)==null?void 0:Q.expire)?(A(),L("div",Nt,[n(r(je),{time:new Date(d.value.expire),type:"datetime"},null,8,["time"])])):T("",!0)]),I("div",Ot,[n(r(se),null,{trigger:c(()=>[n(r(P),{onClick:fe},{default:c(()=>[n(r(Me))]),_:1})]),default:c(()=>[bt]),_:1})])])],2))]}),_:1},8,["collapsed"]),n(r(re),null,{default:c(()=>[n(r(Je),{style:{height:"100vh"}},{default:c(()=>[n(r(Re),{style:{"max-height":"100vh"}},{default:c(()=>[n(he)]),_:1})]),_:1})]),_:1})]),_:1},512),[[ve]]),n(r(Ge),{show:F.value,"onUpdate:show":p[5]||(p[5]=w=>F.value=w)},{default:c(()=>[n(r(Ue),{style:{width:"600px"},title:"\u4F1A\u5458\u7801"},{"header-extra":c(()=>[n(r(P),{onClick:p[3]||(p[3]=w=>F.value=!1)},{default:c(()=>[n(r(He))]),_:1})]),action:c(()=>[n(r(We),{block:!0,type:"primary",disabled:!D.value,onClick:B},{default:c(()=>[Bt]),_:1},8,["disabled"])]),default:c(()=>[n(r(Ye),{placeholder:"\u4F1A\u5458\u7801",value:D.value,"onUpdate:value":p[4]||(p[4]=w=>D.value=w)},null,8,["value"])]),_:1})]),_:1},8,["show"])],64)}}}),$t=[{path:"/",name:"home",component:Lt,redirect:"/list",beforeEnter:(t,e,o)=>{const s=JSON.parse(window.localStorage.getItem("pikpakLogin")||"{}");(!s||!s.access_token)&&t.name!=="setting"?o("/login"):o()},children:[{path:"list/:id?",name:"list",component:()=>h(()=>import("./list.c190817f.js"),["assets/list.c190817f.js","assets/list.5cde3aab.css","assets/vendor.50a49adb.js","assets/clipboard.a95cb010.js"])},{path:"video",name:"video",component:()=>h(()=>import("./list.c190817f.js"),["assets/list.c190817f.js","assets/list.5cde3aab.css","assets/vendor.50a49adb.js","assets/clipboard.a95cb010.js"])},{path:"image",name:"image",component:()=>h(()=>import("./list.c190817f.js"),["assets/list.c190817f.js","assets/list.5cde3aab.css","assets/vendor.50a49adb.js","assets/clipboard.a95cb010.js"])},{path:"trash",name:"trash",component:()=>h(()=>import("./trash.1fbe433d.js"),["assets/trash.1fbe433d.js","assets/trash.99a3677d.css","assets/vendor.50a49adb.js"])},{path:"setting",name:"setting",component:()=>h(()=>import("./setting.ea0a5277.js"),["assets/setting.ea0a5277.js","assets/setting.f947579c.css","assets/vendor.50a49adb.js","assets/clipboard.a95cb010.js"])},{path:"invited",name:"invited",component:()=>h(()=>import("./invited.23071d10.js"),["assets/invited.23071d10.js","assets/invited.74b24e1e.css","assets/clipboard.a95cb010.js","assets/vendor.50a49adb.js"])}]},{path:"/t/:id?",name:"test",component:()=>h(()=>import("./test.7fae7c1a.js"),["assets/test.7fae7c1a.js","assets/vendor.50a49adb.js"])},{path:"/s/:id/:password?",name:"shareInfo",component:()=>h(()=>import("./shareInfo.d5308456.js"),["assets/shareInfo.d5308456.js","assets/shareInfo.678356c6.css","assets/vendor.50a49adb.js"])},{path:"/login",name:"login",component:()=>h(()=>import("./login.0ad58bc4.js"),["assets/login.0ad58bc4.js","assets/login.a8b45006.css","assets/vendor.50a49adb.js","assets/phone-pc2.dbf6d71e.js"])},{path:"/sms",name:"sms",component:()=>h(()=>import("./sms.afd0a9f8.js"),["assets/sms.afd0a9f8.js","assets/sms.81a6d8ca.css","assets/phone-pc2.dbf6d71e.js","assets/vendor.50a49adb.js"])},{path:"/register",name:"register",component:()=>h(()=>import("./register.0460c6bb.js"),["assets/register.0460c6bb.js","assets/register.5588ce76.css","assets/vendor.50a49adb.js","assets/phone-pc2.dbf6d71e.js"])},{path:"/testtest",name:"testtest",component:()=>h(()=>import("./testtest.c051d05d.js"),["assets/testtest.c051d05d.js","assets/vendor.50a49adb.js"])}],Ct=ot({history:at(),routes:$t});var b=Ct;const $=st(ct);$.directive("resize",{mounted(t,e,o){t.$$erd=rt({strategy:"scroll"}),t.$$erd.listenTo({},t,s=>{let a=s.offsetWidth,i=s.offsetHeight;t.$$time&&clearTimeout(t.$$time),t.$$time=setTimeout(()=>{var l;(l=o.props)==null||l.onResize(a,i)},300)})},unmounted(t){t.$$erd&&t.$$erd.uninstall(t),t.$$time&&clearTimeout(t.$$time)}});$.config.globalProperties.$http=v;$.use(b);$.use(it,{router:b,siteIdList:[1280680983]});$.mount("#app");export{Vt as a,de as b,z as c,le as d,v as i,ut as p};
