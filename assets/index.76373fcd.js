var fe=Object.defineProperty;var Q=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var ee=(t,e,o)=>e in t?fe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,P=(t,e)=>{for(var o in e||(e={}))ve.call(e,o)&&ee(t,o,e[o]);if(Q)for(var o of Q(e))_e.call(e,o)&&ee(t,o,e[o]);return t};import{d as T,u as ke,r as y,o as te,a as oe,b as D,c as ae,w as c,e as n,f as i,N as ye,g as we,h as Fe,z as Ee,i as De,j as Ie,C as h,k as R,l as Ae,m as Be,n as xe,p as Ce,q as Se,s as S,t as Ne,v as be,x as Oe,y as x,A as j,B as Le,D as L,R as $e,E as Pe,F as $,G as I,H as se,I as Te,J as Re,L as je,K as ie,M as ze,O as Ve,P as Me,Q as Je,S as Ue,T as We,U as He,V as Ke,W as ne,X as Ye,Y as Ge,Z as qe,_ as Ze,$ as Xe,a0 as Qe,a1 as et,a2 as tt,a3 as ot,a4 as at,a5 as st}from"./vendor.4b8f8de1.js";const it=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=o(s);fetch(s.href,l)}};it();const nt=T({setup(t){return window.$message=ke(),(e,o)=>null}}),rt=["https://pikpak.sanxingdui.cf","https://diii.tk","https://api-pikpak.tjsky.cf","https://api-pikpak.tjsky-1.cf","https://pan.yooyi.tk","https://pk.pikpakz.top","https://cc123.cf","https://cf-api.xswd.cf","https://pikpak.arielherself.xyz","https://f.nxcloud.uk","https://wkr.btstream.net","https://dns.firmant.me","https://p.emobiz.cn","https://pikpak.yang-s.online"],ut=T({setup(t){const e=y({common:{primaryColor:"#306eff",hoverColor:"#306eff",primaryColorHover:"#306eff",heightMedium:"42px"},Layout:{siderColor:"#f5f5f6"},Breadcrumb:{fontSize:"16px"},Dropdown:{optionTextColorHover:"#fff"},InternalSelectMenu:{optionTextColorActive:"#fff"},Upload:{itemColorHover:"#F3F3F5FF",itemTextColorSuccess:"#18A058FF"}});return te(()=>{localStorage.getItem("isSettingProxy")||localStorage.setItem("proxy",JSON.stringify(rt))}),(o,a)=>{const s=oe("router-view");return D(),ae(i(Ie),{locale:i(Ee),"date-locale":i(De),"theme-overrides":e.value},{default:c(()=>[n(i(Fe),null,{default:c(()=>[n(i(ye),null,{default:c(()=>[n(i(we),null,{default:c(()=>[n(nt),n(s)]),_:1})]),_:1})]),_:1})]),_:1},8,["locale","date-locale","theme-overrides"])}}}),lt="modulepreload",re={},ct="/pikpak/",f=function(e,o){return!o||o.length===0?e():Promise.all(o.map(a=>{if(a=`${ct}${a}`,a in re)return;re[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const r=document.createElement("link");if(r.rel=s?"stylesheet":lt,s||(r.as="script",r.crossOrigin=""),r.href=a,document.head.appendChild(r),s)return new Promise((m,d)=>{r.addEventListener("load",m),r.addEventListener("error",d)})})).then(()=>e())};var pt="/pikpak/assets/logo1.08eb9157.png";const ue={query:()=>V.get("https://localhost:8081/account/get"),queryAll:()=>V.get("https://localhost:8081/accounts"),used:t=>V.post("https://localhost:8081/account/used",{id:t})};var z={encrypt(t,e){if(!e)return t;var o=h.enc.Utf8.parse(e),a=h.enc.Utf8.parse(t),s=h.AES.encrypt(a,o,{mode:h.mode.OFB,padding:h.pad.Pkcs7,iv:h.enc.Utf8.parse("pikpak"),blockSize:8});return s.toString()},decrypt(t,e){if(!e)return t;var o=h.enc.Utf8.parse(e),a=h.AES.decrypt(t,o,{mode:h.mode.OFB,padding:h.pad.Pkcs7,iv:h.enc.Utf8.parse("pikpak"),blockSize:8});return h.enc.Utf8.stringify(a).toString()}};const v=R.create({});v.interceptors.request.use(t=>{var o;const e=JSON.parse(window.localStorage.getItem("pikpakLogin")||"{}");if(t.headers=t.headers||{},e.access_token&&(t.headers.Authorization=`${e.token_type||"Bearer"} ${e.access_token}`),((o=t.url)==null?void 0:o.indexOf("https://",4))===-1){const a=JSON.parse(window.localStorage.getItem("proxy")||"[]");if(a.length>0){const s=Math.floor(Math.random()*a.length);t.url=a[s]+"/"+t.url}}return t});let w=!1;v.interceptors.response.use(t=>t,t=>{var a,s,l;const{response:e,config:o}=t;if(e.status)switch(e.status){case 401:console.log(1);const r=window.localStorage.getItem("pikpakLoginData"),m=r?JSON.parse(r):{};return m.username&&m.password&&!w?(console.log("wait",o.url),w=!0,v.post("https://user.mypikpak.com/v1/auth/signin",P({captcha_token:"",client_id:"YNxT9w7GMdWvEOKa",client_secret:"dbw2OtmVEeuUvIptb1Coyg"},m)).then(d=>(d.data&&d.data.access_token&&window.localStorage.setItem("pikpakLogin",JSON.stringify(d.data)),w=!1,v(o))).catch(()=>(A.push("/login"),!1))):m.username&&m.password&&w?new Promise((d,F)=>{const g=setInterval(()=>{w||(clearInterval(g),d(v(o)))},100)}):(A.push("/login?redirect="+A.currentRoute.value.fullPath),Promise.reject(t));case 403:if(((a=e==null?void 0:e.data)==null?void 0:a.error)==="task_daily_create_limit"){const d=JSON.parse(window.localStorage.getItem("pikpakLogin")||"{}"),F=JSON.parse(localStorage.getItem("pikpakOptimize")||"{}");if(F.autoChangeAccount){const g=d.id?d.id:-1;g>-1&&ue.used(g).catch(E=>{console.error(E)}),ue.query().then(E=>{if(E.data.length<=0)window.$message.error("\u6CA1\u6709\u53EF\u7528\u8D26\u53F7\uFF0C\u5373\u5C06\u8DF3\u8F6C\u5230\u767B\u9646"),window.localStorage.removeItem("pikpakLogin"),window.localStorage.removeItem("pikpakLoginData"),A.push("/login");else{const N=E.data[0];if(w)return new Promise((O,B)=>{const _=setInterval(()=>{if(!w)return clearInterval(_),A.push("/list"),!1},100)});{const O=z.decrypt(N.email,F.key),B=z.decrypt(N.password,F.key),_={username:O,password:B};return console.debug(_),w=!0,v.post("https://user.mypikpak.com/v1/auth/signin",P({captcha_token:"",client_id:"YNxT9w7GMdWvEOKa",client_secret:"dbw2OtmVEeuUvIptb1Coyg"},_)).then(C=>(C.data&&C.data.access_token&&(C.data.id=N.id,window.localStorage.setItem("pikpakLogin",JSON.stringify(C.data))),w=!1,window.$message.error("\u60A8\u4ECA\u65E5\u7684\u514D\u8D39\u4F7F\u7528\u6B21\u6570\u5DF2\u8FBE\u4E0A\u9650\uFF0C\u5207\u6362\u8D26\u53F7\u540E\u8BF7\u5237\u65B0"),A.push("/list"),!1)).catch(()=>(window.$message.error("\u81EA\u52A8\u5207\u6362\u8D26\u53F7\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\u6216\u624B\u52A8\u5207\u6362"),!1))}}}).catch(E=>{console.log(E),window.$message.error("\u67E5\u8BE2\u8D26\u53F7\u5F02\u5E38\uFF0C\u8BF7\u91CD\u8BD5")})}}else window.$message.error(((s=e==null?void 0:e.data)==null?void 0:s.error_description)||"\u51FA\u9519\u4E86");break;default:window.$message.error(((l=e==null?void 0:e.data)==null?void 0:l.error_description)||"\u51FA\u9519\u4E86");break}return console.log(o.url,111),Promise.reject(t)});const dt=R.create({});dt.interceptors.request.use(t=>{t.headers={Authorization:"Bearer secret_FErDcv3kgsFNLiWUDOWYdJhNqOIKj55eteBg3vIoiLt","Notion-Version":"2021-08-16","Content-Type":"application/json"};const e=JSON.parse(window.localStorage.getItem("proxy")||"[]");if(e.length>0){const o=Math.floor(Math.random()*e.length);t.url=e[o]+"/"+t.url}return t});const le=R.create({});le.interceptors.request.use(t=>{var r;var e=t.url;if(console.log("url",e),e&&!(e==null?void 0:e.startsWith("https://localhost:8081"))){const m=JSON.parse(localStorage.getItem("pikpakOptimize")||"{}");if(m.autoChangeAccount){var o=e.indexOf("encrypt")+7,a=e.indexOf("decrypt"),s=e==null?void 0:e.substring(o,a),l=z.decrypt(s,m.key);t.url="https://"+l+e.substring(a+7)}}else{const m=JSON.parse(localStorage.getItem("pikpakOptimize")||"{}");m.autoChangeAccount&&(t.url=(r=t.url)==null?void 0:r.replace("localhost",m.host))}return t});const V=le,ce=function(t){if(isNaN(t))return"";let e=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(t)/Math.log(2));o<1&&(o=0);let a=Math.floor(o/10);return t=t/Math.pow(2,10*a),t.toString().length>t.toFixed(2).toString().length&&(t=parseFloat(t.toFixed(2))),t+" "+e[a]};const mt=I("a",{href:"https://mypikpak.com/",target:"_blank",class:"logo-box"},[I("img",{src:"https://mypikpak.com/apple-touch-icon.png",class:"logo-box__icon",alt:""}),I("div",{class:"logo-box__text"},"PikPak")],-1),gt={key:0,class:"content-bottom"},ht=x("\u4F1A\u5458\u7801"),ft=x(),vt={style:{"margin-bottom":"0"}},_t=I("a",{style:{color:"#306eff"},target:"_blank",href:"https://www.tjsky.net/?p=220#i-21"},"\u6587\u4EF6\u5217\u8868\u5237\u4E0D\u51FA\u6765\uFF1F",-1),kt=x(" \u3010\u8BF7\u4F9D\u6B21\u70B9\u9009\uFF1A\u8BBE\u7F6E-\u4EE3\u7406\u8BBE\u7F6E-\u6062\u590D\u9ED8\u8BA4-\u4FDD\u5B58\u8BBE\u7F6E \u540E\u518D\u5237\u65B0\u8BD5\u8BD5\u3011 "),yt={class:"bottom-user-info"},wt={key:0,src:pt,class:"user-info-avatar"},Ft={key:1,src:"https://www.mypikpak.com/logo.png",class:"user-info-avatar"},Et={class:"user-info-name"},Dt={key:0},It={class:"action"},At=x(" \u9000\u51FA\u767B\u5F55 "),Bt=x("\u6DFB\u52A0"),xt=T({setup(t){const e=y(!1),o=u=>()=>ne(L,null,{default:()=>ne(u)}),a=Ae(),s=Be(),l=y([{label:"\u6587\u4EF6",key:"list",icon:o(Qe)},{label:"\u89C6\u9891",key:"video",icon:o(Ye)},{label:"\u56FE\u7247",key:"image",icon:o(Ge)},{label:"\u56DE\u6536\u7AD9",key:"trash",icon:o(qe)},{label:"\u9080\u8BF7",key:"invited",icon:o(Ze)},{label:"\u8BBE\u7F6E",key:"setting",icon:o(Xe)}]),r=y(),m=()=>{v.get("https://user.mypikpak.com/v1/user/me").then(u=>{window.localStorage.setItem("pikpakUser",JSON.stringify(u.data)),r.value=u.data}).catch(u=>{console.log(u)})},d=y(),F=()=>{v.get("https://api-drive.mypikpak.com/drive/v1/about").then(u=>{d.value=u.data}).catch(u=>{console.log(u)})},g=y(),E=()=>{v.get("https://api-drive.mypikpak.com/drive/v1/privilege/vip").then(u=>{var p;g.value=(p=u.data)==null?void 0:p.data})},N=(u,p)=>{console.log(p),a.push("/"+p.key)};te(()=>{m(),F(),E()});const O=()=>{m(),F()},B=y(),_=y(!1),C=()=>{v.post("https://api-drive.mypikpak.com/vip/v1/order/activation-code",{activation_code:B.value,data:{}}).then(u=>{window.$message.success("\u5151\u6362\u6210\u529F"),F()}).catch(u=>{console.log(u)}).finally(()=>{_.value=!1})},M=y(!1),pe=u=>{M.value=u<800,e.value||(e.value=u<800)};xe(s,()=>{M.value&&(e.value=!0)});const de=Ce(),me=()=>{de.warning({title:"\u8B66\u544A",content:"\u786E\u5B9A\u9000\u51FA\uFF1F",positiveText:"\u786E\u5B9A",negativeText:"\u4E0D\u786E\u5B9A",onPositiveClick:()=>{v.post("https://user.mypikpak.com/v1/auth/revoke",{}).then(u=>{window.localStorage.removeItem("pikpakLogin"),window.localStorage.removeItem("pikpakLoginData"),window.$message.success("\u9000\u51FA\u6210\u529F"),a.push("/login")}).catch(u=>{console.log(u)})}})};return(u,p)=>{const ge=oe("router-view"),he=Se("resize");return D(),S(Ke,null,[Ne(n(i(ie),{"has-sider":"",onResize:pe},{default:c(()=>[n(i(be),{"content-style":{display:"flex",flexDirection:"column"},"collapse-mode":"width","collapsed-width":0,width:240,"show-trigger":"bar",collapsed:e.value,onCollapse:p[1]||(p[1]=k=>e.value=!0),onExpand:p[2]||(p[2]=k=>e.value=!1),bordered:""},{default:c(()=>{var k,J,U,W,H,K,Y,G,q,Z,X;return[mt,n(i(Oe),{options:l.value,value:String(i(s).name),"onUpdate:value":N},null,8,["options","value"]),e.value?$("",!0):(D(),S("div",gt,[x(j(i(ce)((k=d.value)==null?void 0:k.quota.usage))+" / "+j(i(ce)((J=d.value)==null?void 0:J.quota.limit))+" ",1),n(i(Le),{type:"primary",onClick:p[0]||(p[0]=Nt=>_.value=!0)},{default:c(()=>[ht]),_:1}),ft,n(i(L),{onClick:O},{default:c(()=>[n(i($e))]),_:1}),((U=d.value)==null?void 0:U.quota)?(D(),ae(i(Pe),{key:0,type:"line",percentage:Number((((W=d.value)==null?void 0:W.quota.usage)/((H=d.value)==null?void 0:H.quota.limit)*100).toFixed(2)),"indicator-placement":"inside",height:14,color:((K=g.value)==null?void 0:K.status)==="ok"?"#d1ae6a":void 0,processing:""},null,8,["percentage","color"])):$("",!0),I("p",vt,[n(i(se),{placement:"right"},{trigger:c(()=>[_t]),default:c(()=>[kt]),_:1})])])),e.value?$("",!0):(D(),S("div",{key:1,class:Te(["sider-bottom",{vip:((Y=g.value)==null?void 0:Y.status)==="ok"}])},[I("div",yt,[((G=g.value)==null?void 0:G.status)==="ok"?(D(),S("img",wt)):(D(),S("img",Ft)),I("div",Et,[x(j((q=r.value)==null?void 0:q.name)+" ",1),((Z=g.value)==null?void 0:Z.status)==="ok"&&((X=g.value)==null?void 0:X.expire)?(D(),S("div",Dt,[n(i(Re),{time:new Date(g.value.expire),type:"datetime"},null,8,["time"])])):$("",!0)]),I("div",It,[n(i(se),null,{trigger:c(()=>[n(i(L),{onClick:me},{default:c(()=>[n(i(je))]),_:1})]),default:c(()=>[At]),_:1})])])],2))]}),_:1},8,["collapsed"]),n(i(ie),null,{default:c(()=>[n(i(ze),{style:{height:"100vh"}},{default:c(()=>[n(i(Ve),{style:{"max-height":"100vh"}},{default:c(()=>[n(ge)]),_:1})]),_:1})]),_:1})]),_:1},512),[[he]]),n(i(He),{show:_.value,"onUpdate:show":p[5]||(p[5]=k=>_.value=k)},{default:c(()=>[n(i(Me),{style:{width:"600px"},title:"\u4F1A\u5458\u7801"},{"header-extra":c(()=>[n(i(L),{onClick:p[3]||(p[3]=k=>_.value=!1)},{default:c(()=>[n(i(Je))]),_:1})]),action:c(()=>[n(i(Ue),{block:!0,type:"primary",disabled:!B.value,onClick:C},{default:c(()=>[Bt]),_:1},8,["disabled"])]),default:c(()=>[n(i(We),{placeholder:"\u4F1A\u5458\u7801",value:B.value,"onUpdate:value":p[4]||(p[4]=k=>B.value=k)},null,8,["value"])]),_:1})]),_:1},8,["show"])],64)}}}),Ct=[{path:"/",name:"home",component:xt,redirect:"/list",beforeEnter:(t,e,o)=>{const a=JSON.parse(window.localStorage.getItem("pikpakLogin")||"{}");(!a||!a.access_token)&&t.name!=="setting"?o("/login"):o()},children:[{path:"list/:id?",name:"list",component:()=>f(()=>import("./list.60316879.js"),["assets/list.60316879.js","assets/list.764e0448.css","assets/vendor.4b8f8de1.js","assets/clipboard.a53b1f60.js"])},{path:"video",name:"video",component:()=>f(()=>import("./list.60316879.js"),["assets/list.60316879.js","assets/list.764e0448.css","assets/vendor.4b8f8de1.js","assets/clipboard.a53b1f60.js"])},{path:"image",name:"image",component:()=>f(()=>import("./list.60316879.js"),["assets/list.60316879.js","assets/list.764e0448.css","assets/vendor.4b8f8de1.js","assets/clipboard.a53b1f60.js"])},{path:"trash",name:"trash",component:()=>f(()=>import("./trash.e2c5e537.js"),["assets/trash.e2c5e537.js","assets/trash.99a3677d.css","assets/vendor.4b8f8de1.js"])},{path:"setting",name:"setting",component:()=>f(()=>import("./setting.830af44c.js"),["assets/setting.830af44c.js","assets/setting.f947579c.css","assets/vendor.4b8f8de1.js","assets/clipboard.a53b1f60.js"])},{path:"invited",name:"invited",component:()=>f(()=>import("./invited.4674e242.js"),["assets/invited.4674e242.js","assets/invited.74b24e1e.css","assets/clipboard.a53b1f60.js","assets/vendor.4b8f8de1.js"])}]},{path:"/t/:id?",name:"test",component:()=>f(()=>import("./test.730c12ab.js"),["assets/test.730c12ab.js","assets/vendor.4b8f8de1.js"])},{path:"/s/:id/:password?",name:"shareInfo",component:()=>f(()=>import("./shareInfo.ac17ba0c.js"),["assets/shareInfo.ac17ba0c.js","assets/shareInfo.678356c6.css","assets/vendor.4b8f8de1.js"])},{path:"/login",name:"login",component:()=>f(()=>import("./login.6ff61c28.js"),["assets/login.6ff61c28.js","assets/login.a8b45006.css","assets/vendor.4b8f8de1.js","assets/phone-pc2.dbf6d71e.js"])},{path:"/sms",name:"sms",component:()=>f(()=>import("./sms.c4df9a5e.js"),["assets/sms.c4df9a5e.js","assets/sms.81a6d8ca.css","assets/phone-pc2.dbf6d71e.js","assets/vendor.4b8f8de1.js"])},{path:"/register",name:"register",component:()=>f(()=>import("./register.b0af70c7.js"),["assets/register.b0af70c7.js","assets/register.5588ce76.css","assets/vendor.4b8f8de1.js","assets/phone-pc2.dbf6d71e.js"])},{path:"/testtest",name:"testtest",component:()=>f(()=>import("./testtest.83a06ccd.js"),["assets/testtest.83a06ccd.js","assets/vendor.4b8f8de1.js"])}],St=et({history:tt(),routes:Ct});var A=St;const b=ot(ut);b.directive("resize",{mounted(t,e,o){t.$$erd=at({strategy:"scroll"}),t.$$erd.listenTo({},t,a=>{let s=a.offsetWidth,l=a.offsetHeight;t.$$time&&clearTimeout(t.$$time),t.$$time=setTimeout(()=>{var r;(r=o.props)==null||r.onResize(s,l)},300)})},unmounted(t){t.$$erd&&t.$$erd.uninstall(t),t.$$time&&clearTimeout(t.$$time)}});b.config.globalProperties.$http=v;b.use(A);b.use(st,{router:A,siteIdList:[1280680983]});b.mount("#app");export{z as a,ce as b,v as i,rt as p};
