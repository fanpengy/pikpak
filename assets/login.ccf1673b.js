var V=Object.defineProperty;var I=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var P=(i,u,o)=>u in i?V(i,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[u]=o,h=(i,u)=>{for(var o in u||(u={}))X.call(u,o)&&P(i,o,u[o]);if(I)for(var o of I(u))Z.call(u,o)&&P(i,o,u[o]);return i};import{d as Y,r as g,m as T,l as W,u as G,o as J,n as q,p as $,a as ee,b as E,s as ae,G as A,e as s,f as t,az as ue,w as l,af as te,ax as m,c as y,U as R,ay as oe,a$ as se,b1 as j,F as le,S as ne,H as N,D as M,b2 as Ae,b3 as ce,y as k}from"./vendor.2a1693fe.js";import{_ as ie}from"./phone-pc2.dbf6d71e.js";import{c as S,i as x,a as w}from"./index.b40a7b5e.js";const de={class:"login-page"},re=A("div",{class:"down"},[A("img",{src:ie})],-1),ge={class:"login"},pe=A("div",{class:"logo-box"},[A("img",{src:"data:image/png;base64,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",class:"logo-box__icon",alt:""}),A("div",{class:"logo-box__text"},"PikPak")],-1),ve={class:"login-box"},Be=k("\u8BB0\u4F4F\u767B\u9646"),fe=k("\u9009\u62E9\u8D26\u53F7"),me=k("\u767B\u9646"),ke=A("a",{target:"_blank",href:"https://i.mypikpak.com/v1/file/center/account/v1/password/?type=forget_password&locale=zh-cn",class:"forget-password"},"\u5FD8\u8BB0\u5BC6\u7801",-1),we={class:"login-other"},Ce=k(" \u624B\u673A\u767B\u9646 "),Ee=k(" APP\u5185\u8C37\u6B4C\u767B\u5F55\u7684\u8D26\u53F7\u8BF7\u5148\u901A\u8FC7\u5FD8\u8BB0\u5BC6\u7801\u8BBE\u7F6E\u5BC6\u7801\u540E\u767B\u5F55 "),Fe=Y({setup(i){const u=g({username:"",password:""}),o=g(null),v=g([]),F=g([]),O=T(),c=g(),p=g(!1),D=W(),b=G();J(()=>{let a=JSON.parse(window.localStorage.getItem("pikpakOptimize")||"{}");(a==null?void 0:a.accountAutomatic)&&(c.value=a,v.value=K(),console.log(v.value))});const Q=()=>{if(!u.value.password||!u.value.username)return U(),!1;p.value=!0,x.post("https://user.mypikpak.com/v1/auth/signin",h({captcha_token:"",client_id:"YNxT9w7GMdWvEOKa",client_secret:"dbw2OtmVEeuUvIptb1Coyg"},u.value)).then(a=>{a.data&&a.data.access_token&&(window.localStorage.setItem("pikpakLogin",JSON.stringify(a.data)),B.value?window.localStorage.setItem("pikpakLoginData",JSON.stringify(u.value)):window.localStorage.removeItem("pikpakLoginData"),b.success("\u767B\u5F55\u6210\u529F"),D.push("/"),D.push((O.query.redirect||"/")+""))}).catch(()=>{p.value=!1})},U=async()=>{var a;if((a=c.value)==null?void 0:a.accountAutomatic){p.value=!0;let e={};if(e=await S.query().then(d=>d.data.length<=0?(window.$message.error("\u6CA1\u6709\u53EF\u7528\u8D26\u53F7"),{}):d.data[0]).catch(d=>(console.error(d.response),window.$message.error("\u67E5\u8BE2\u8D26\u53F7\u5931\u8D25"),{})),e.id&&e.id>0){const d=w.decrypt(e.email,c.value.key),n=w.decrypt(e.password,c.value.key),f={username:d,password:n};return console.debug(f),x.post("https://user.mypikpak.com/v1/auth/signin",h({captcha_token:"",client_id:"YNxT9w7GMdWvEOKa",client_secret:"dbw2OtmVEeuUvIptb1Coyg"},f)).then(r=>{r.data&&r.data.access_token&&(r.data.id=e.id,window.localStorage.setItem("pikpakLogin",JSON.stringify(r.data))),p.value=!1,b.success("\u767B\u5F55\u6210\u529F"),D.push("/")}).catch(()=>{p.value=!1,window.$message.error("\u81EA\u52A8\u767B\u5F55\u5931\u8D25")})}else p.value=!1}},K=()=>{var a;((a=c.value)==null?void 0:a.accountAutomatic)&&S.queryAll().then(e=>{v.value=e.data}).catch(e=>{console.error(e.response)})},H=()=>{C.value?F.value=v.value.map(a=>{var e={};return e.label=w.decrypt(a.email,c.value.key),e.value=a.id,a.status&&(e.style={color:"red"}),e}):(u.value={username:"",password:""},o.value=null)};q(o,()=>{if(o.value){const a=v.value.filter(e=>e.id===o.value);if(a.length>0){const e=a[0];u.value.username=w.decrypt(e.email,c.value.key),u.value.password=w.decrypt(e.password,c.value.key)}}});const B=g(!1),C=g(!1),L=$(),_=()=>{B.value&&L.warning({title:"\u8B66\u544A",content:"\u8BB0\u4F4F\u767B\u9646\u662F\u6307\u6D4F\u89C8\u5668\u672C\u5730\u660E\u6587\u4FDD\u5B58\u7528\u6237\u540D\u5BC6\u7801\u7528\u4E8E\u4E0B\u6B21\u81EA\u52A8\u767B\u9646\uFF0C\u8BF7\u52FF\u5728\u975E\u4FE1\u4EFB\u8BBE\u5907\u9009\u62E9",positiveText:"\u786E\u5B9A",negativeText:"\u4E0D\u786E\u5B9A",onPositiveClick:()=>{},onNegativeClick:()=>{B.value=!1}})},z=()=>{x.get("https://api-drive.mypikpak.com/package/v1/apk/url/225815").then(a=>{window.open(a.data.apk_url)})};return(a,e)=>{const d=ee("router-link");return E(),ae("div",de,[re,A("div",ge,[pe,A("div",ve,[s(t(ue),{"label-align":"left","label-placement":"left","label-width":"0",class:"login-form"},{default:l(()=>[s(t(m),{label:""},{default:l(()=>[C.value?(E(),y(t(oe),{key:1,value:o.value,"onUpdate:value":e[1]||(e[1]=n=>o.value=n),placeholder:"\u8BF7\u9009\u62E9\u8D26\u6237",options:F.value},null,8,["value","options"])):(E(),y(t(R),{key:0,value:u.value.username,"onUpdate:value":e[0]||(e[0]=n=>u.value.username=n),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"},null,8,["value"]))]),_:1}),s(t(m),{label:""},{default:l(()=>[s(t(R),{value:u.value.password,"onUpdate:value":e[2]||(e[2]=n=>u.value.password=n),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",onKeyup:se(Q,["enter"]),type:"password","show-password-on":"mousedown"},null,8,["value","onKeyup"])]),_:1}),s(t(m),{label:""},{default:l(()=>{var n,f;return[s(t(j),{checked:B.value,"onUpdate:checked":[e[3]||(e[3]=r=>B.value=r),_]},{default:l(()=>[Be]),_:1},8,["checked"]),((n=c.value)==null?void 0:n.accountAutomatic)&&((f=v.value)==null?void 0:f.length)?(E(),y(t(j),{key:0,checked:C.value,"onUpdate:checked":[e[4]||(e[4]=r=>C.value=r),H]},{default:l(()=>[fe]),_:1},8,["checked"])):le("",!0)]}),_:1}),s(t(m),null,{default:l(()=>[s(t(ne),{type:"primary",class:"block",loading:p.value,onClick:Q},{default:l(()=>[me]),_:1},8,["loading"])]),_:1}),s(t(m),{label:""},{default:l(()=>[ke,A("a",{href:"javascript:;",onClick:z},"\u53BB\u4E0B\u8F7D\u6CE8\u518C\u5F975\u5929VIP")]),_:1})]),_:1}),A("div",we,[s(t(te),{inline:""},{default:l(()=>[s(t(N),null,{trigger:l(()=>[s(d,{to:"sms"},{default:l(()=>[s(t(M),{color:"#306eff",size:32},{default:l(()=>[s(t(Ae))]),_:1})]),_:1})]),default:l(()=>[Ce]),_:1}),s(t(N),null,{trigger:l(()=>[s(t(M),{color:"#306eff",size:32},{default:l(()=>[s(t(ce))]),_:1})]),default:l(()=>[Ee]),_:1})]),_:1})])])])])}}});export{Fe as default};
